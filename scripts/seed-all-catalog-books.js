#!/usr/bin/env node

const { createClient } = require('@supabase/supabase-js')

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supabase
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://gdrladrtjngzloiyihyk.supabase.co'
const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdkcmxhZHJ0am5nemxvaXlpaHlrIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDM5ODU4NCwiZXhwIjoyMDY5OTc0NTg0fQ.keGyqWQvrmx0q7labPCiz-7QID5VgdhvEE4Ak1UJ8h4'

const supabase = createClient(supabaseUrl, supabaseServiceKey)

// –í—Å–µ –∫–Ω–∏–≥–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
const CATALOG_BOOKS = [
  {
    id: "1",
    title: "–î–≤—ñ –±—ñ–ª–∫–∏ —ñ —à–∏—à–∫–∞ –∑ –≥—ñ–ª–∫–∏",
    author: "–°–≤—ñ—Ç–ª–∞–Ω–∞ –ú–∞–∫—Å–∏–º–µ–Ω–∫–æ",
    cover: "/images/books/dvi-bilki-i-shishka-z-gilki_1.webp",
    category: "–î–∏—Ç—è—á–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "DL-001",
    pages: 32,
    status: "–ù–æ–≤–µ",
    available: true,
    rating: { value: 4.8, count: 156 },
    badges: ["–ù–æ–≤–µ"],
    short: "–ß–∞—Ä—ñ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –¥–≤–æ—Ö –±—ñ–ª–æ—á–æ–∫ —Ç–∞ —ó—Ö–Ω—ñ –ø—Ä–∏–≥–æ–¥–∏ –≤ –ª—ñ—Å—ñ. –ö–Ω–∏–≥–∞ –Ω–∞–≤—á–∞—î –¥—ñ—Ç–µ–π –¥—Ä—É–∂–±—ñ, –≤–∑–∞—î–º–æ–¥–æ–ø–æ–º–æ–∑—ñ —Ç–∞ —Ç—É—Ä–±–æ—Ç—ñ –ø—Ä–æ –ø—Ä–∏—Ä–æ–¥—É. –Ø—Å–∫—Ä–∞–≤—ñ —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ —Ü—ñ–∫–∞–≤–∏–π —Å—é–∂–µ—Ç –∑–∞—á–∞—Ä—É—é—Ç—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —á–∏—Ç–∞—á—ñ–≤ –≤—ñ–∫–æ–º –≤—ñ–¥ 3 —Ä–æ–∫—ñ–≤."
  },
  {
    id: "2", 
    title: "–î–∂—É–¥—ñ –ú—É–¥—ñ",
    author: "–ú–µ“ë–∞–Ω –ú–∞–∫–¥–æ–Ω–∞–ª—å–¥",
    cover: "/images/books/dzhudi-mudi_8.webp",
    category: "–î–∏—Ç—è—á–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "DL-002",
    pages: 160,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    available: true,
    rating: { value: 4.7, count: 203 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–í–µ—Å–µ–ª—ñ –ø—Ä–∏–≥–æ–¥–∏ –Ω–µ–∑–≤–∏—á–∞–π–Ω–æ—ó –¥—ñ–≤—á–∏–Ω–∫–∏ –î–∂—É–¥—ñ –ú—É–¥—ñ, —è–∫–∞ –∑–∞–≤–∂–¥–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ –∫—É–º–µ–¥–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó. –ö–Ω–∏–≥–∞ —Ä–æ–∑–≤–∏–≤–∞—î –ø–æ—á—É—Ç—Ç—è –≥—É–º–æ—Ä—É —Ç–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –¥—ñ—Ç—è–º –∫—Ä–∞—â–µ —Ä–æ–∑—É–º—ñ—Ç–∏ –µ–º–æ—Ü—ñ—ó. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —à–∫–æ–ª—è—Ä–∞–º–∏."
  },
  {
    id: "3",
    title: "–ì—ñ–º–Ω–∞–∑–∏—Å—Ç —ñ —á–æ—Ä–Ω–∞ —Ä—É–∫–∞", 
    author: "–û–ª–µ–∫—Å–∞ –°—Ç–æ—Ä–æ–∂–µ–Ω–∫–æ",
    cover: "/images/books/gimnazist-i-chorna-ruka_3.webp",
    category: "–î–∏—Ç—è—á–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "DL-003",
    pages: 200,
    status: "–ö–ª–∞—Å–∏–∫–∞",
    available: false,
    rating: { value: 4.5, count: 89 },
    badges: ["–ö–ª–∞—Å–∏–∫–∞"],
    short: "–ó–∞—Ö–æ–ø–ª—é—é—á–∞ –ø—Ä–∏–≥–æ–¥–Ω–∏—Ü—å–∫–∞ –ø–æ–≤—ñ—Å—Ç—å –ø—Ä–æ –≥—ñ–º–Ω–∞–∑–∏—Å—Ç–∞ —Ç–∞ —Ç–∞—î–º–Ω–∏—á—ñ –ø–æ–¥—ñ—ó. –ö–ª–∞—Å–∏—á–Ω–∏–π —Ç–≤—ñ—Ä —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –¥–∏—Ç—è—á–æ—ó –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∏, —è–∫–∏–π –ø–æ—î–¥–Ω—É—î –¥–µ—Ç–µ–∫—Ç–∏–≤ –∑ –∂–∏—Ç—Ç—è–º –ø—ñ–¥–ª—ñ—Ç–∫—ñ–≤. –†–æ–∑–≤–∏–≤–∞—î –ª–æ–≥—ñ—á–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ —Ü—ñ–∫–∞–≤—ñ—Å—Ç—å –¥–æ —á–∏—Ç–∞–Ω–Ω—è."
  },
  {
    id: "4",
    title: "–ö–∞–∑–æ—á–∫–∏ –î–æ–Ω—ñ —Ç–∞ –°–∏–Ω–æ—á–∫—É",
    author: "–ù–∞—Ä–æ–¥–Ω—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∫–∞–∑–∫–∏",
    cover: "/images/books/kazochki-doni-ta-sinochku-ukrains-ki-kazki.webp",
    category: "–ö–∞–∑–∫–∏", 
    code: "KZ-001",
    pages: 96,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    age: "4+",
    available: true,
    rating: { value: 4.9, count: 145 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–ó–±—ñ—Ä–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –Ω–∞—Ä–æ–¥–Ω–∏—Ö –∫–∞–∑–æ–∫ –ø—Ä–æ –î–æ–Ω—é —Ç–∞ –°–∏–Ω–æ—á–∫–∞. –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó, —è–∫—ñ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—è –∑ –ø–æ–∫–æ–ª—ñ–Ω–Ω—è –≤ –ø–æ–∫–æ–ª—ñ–Ω–Ω—è. –í–∏—Ö–æ–≤—É—é—Ç—å –¥–æ–±—Ä—ñ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–Ω–∞–π–æ–º–ª—è—Ç—å –¥—ñ—Ç–µ–π –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∫—É–ª—å—Ç—É—Ä–æ—é."
  },
  {
    id: "5",
    title: "–¢—Ä–∞–∫—Ç–æ—Ä–µ—Ü—å –±–æ—ó—Ç—å—Å—è",
    author: "–ü–µ—Ç—Ä–æ –°–∏–Ω—è–≤—Å—å–∫–∏–π", 
    cover: "/images/books/traktorec-boit-sja.webp",
    category: "–î–∏—Ç—è—á–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "DL-004", 
    pages: 48,
    status: "–ù–æ–≤–µ",
    age: "3+",
    available: true,
    rating: { value: 4.6, count: 72 },
    badges: ["–ù–æ–≤–µ"],
    short: "–î–æ–±—Ä–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Ç—Ä–∞–∫—Ç–æ—Ä—Ü—è, —è–∫–∏–π –ø–æ–¥–æ–ª–∞–≤ —Å–≤–æ—ó —Å—Ç—Ä–∞—Ö–∏. –ö–Ω–∏–≥–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –¥—ñ—Ç—è–º —Å–ø—Ä–∞–≤–ª—è—Ç–∏—Å—è –∑ –≤–ª–∞—Å–Ω–∏–º–∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–Ω—è–º–∏ —Ç–∞ –≤—á–∏—Ç—å –±—É—Ç–∏ —Å–º—ñ–ª–∏–≤–∏–º–∏. –ß—É–¥–æ–≤—ñ —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –ø—Ä–æ—Å—Ç–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –Ω–∞–π–º–µ–Ω—à–∏—Ö."
  },
  {
    id: "6", 
    title: "–ü—ñ–¥ –∂–æ–≤—Ç–∏–º –Ω–µ–±–æ–º –º—Ä—ñ–π",
    author: "–ú–∞—Ä–∏–Ω–∞ –ü–∞–≤–ª–µ–Ω–∫–æ",
    cover: "/images/books/pid-zhovtim-nebom-mrij.webp",
    category: "–ü—ñ–¥–ª—ñ—Ç–∫–æ–≤–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "PL-001",
    pages: 240,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ", 
    age: "12+",
    available: true,
    rating: { value: 4.8, count: 118 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–õ—ñ—Ä–∏—á–Ω–∞ –ø–æ–≤—ñ—Å—Ç—å –ø—Ä–æ –ø—ñ–¥–ª—ñ—Ç–∫—ñ–≤, —ó—Ö–Ω—ñ –º—Ä—ñ—ó —Ç–∞ –ø–µ—Ä—à—ñ –∫–æ—Ö–∞–Ω–Ω—è. –ê–≤—Ç–æ—Ä —Ç–æ–Ω–∫–æ –ø–µ—Ä–µ–¥–∞—î –µ–º–æ—Ü—ñ—ó –º–æ–ª–æ–¥–æ—Å—Ç—ñ —Ç–∞ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ—Ä–∏ –≤ —Å–µ–±–µ. –ö–Ω–∏–≥–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥–ª—ñ—Ç–∫–∞–º –∫—Ä–∞—â–µ —Ä–æ–∑—É–º—ñ—Ç–∏ —Å–µ–±–µ —Ç–∞ —Å–≤–æ—ó –ø–æ—á—É—Ç—Ç—è."
  },
  {
    id: "7",
    title: "–ó–∞—î—Ü—å –ì—ñ–±—ñ—Å–∫—É—Å —ñ —á–µ–º–ø—ñ–æ–Ω–∞—Ç –ª—ñ—Å—É –∑ —Ñ—É—Ç–±–æ–ª—É", 
    author: "–ï–Ω–¥—ñ –†–∞–π–ª—ñ",
    cover: "/images/books/zaec-gibiskus-i-chempionat-lisu-z-futbolu.webp",
    category: "–î–∏—Ç—è—á–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "DL-005",
    pages: 128,
    status: "–ù–æ–≤–µ",
    age: "6+", 
    available: false,
    rating: { value: 4.4, count: 67 },
    badges: ["–ù–æ–≤–µ"], 
    short: "–í–µ—Å–µ–ª–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –∑–∞–π—Ü—è –ì—ñ–±—ñ—Å–∫—É—Å–∞ —Ç–∞ –ª—ñ—Å–æ–≤–∏–π —Ñ—É—Ç–±–æ–ª—å–Ω–∏–π —Ç—É—Ä–Ω—ñ—Ä. –ö–Ω–∏–≥–∞ –Ω–∞–≤—á–∞—î –∫–æ–º–∞–Ω–¥–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ —Ç–æ–º—É, —â–æ –ø–µ—Ä–µ–º–æ–≥–∞ - —Ü–µ –Ω–µ –≥–æ–ª–æ–≤–Ω–µ. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ª—é–±–∏—Ç–µ–ª—ñ–≤ —Å–ø–æ—Ä—Ç—É."
  },
  {
    id: "8",
    title: "–ó–∞—Ö–∞—Ä –ë–µ—Ä–∫—É—Ç",
    author: "–Ü–≤–∞–Ω –§—Ä–∞–Ω–∫–æ",
    cover: "/images/books/zahar-berkut_4_1.webp", 
    category: "–ö–ª–∞—Å–∏–∫–∞",
    code: "KL-001",
    pages: 320,
    status: "–ö–ª–∞—Å–∏–∫–∞",
    age: "14+",
    available: true,
    rating: { value: 4.7, count: 134 },
    badges: ["–ö–ª–∞—Å–∏–∫–∞"],
    short: "–í–∏–¥–∞—Ç–Ω–∏–π —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–π —Ä–æ–º–∞–Ω –Ü–≤–∞–Ω–∞ –§—Ä–∞–Ω–∫–∞ –ø—Ä–æ –±–æ—Ä–æ—Ç—å–±—É –∫–∞—Ä–ø–∞—Ç—Å—å–∫–∏—Ö –≥–æ—Ä—è–Ω –ø—Ä–æ—Ç–∏ –º–æ–Ω–≥–æ–ª–æ-—Ç–∞—Ç–∞—Ä—Å—å–∫–∏—Ö –∑–∞–≤–æ–π–æ–≤–Ω–∏–∫—ñ–≤. –ï–ø—ñ—á–Ω–∞ —Ä–æ–∑–ø–æ–≤—ñ–¥—å –ø—Ä–æ –º—É–∂–Ω—ñ—Å—Ç—å, –ø–∞—Ç—Ä—ñ–æ—Ç–∏–∑–º —Ç–∞ –ª—é–±–æ–≤ –¥–æ —Ä—ñ–¥–Ω–æ—ó –∑–µ–º–ª—ñ. –®–µ–¥–µ–≤—Ä —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∏."
  },
  {
    id: "9", 
    title: "–ü—Ä–∏–≥–æ–¥–∏ –≤ –¥–∏–≤–æ–≤–∏–∂–Ω–æ–º—É —Å–≤—ñ—Ç—ñ",
    author: "–ê–Ω–Ω–∞ –ö—Ä–∞—Å—É–ª—è",
    cover: "/images/books/image_processing20240819-40-j6ogl7.webp",
    category: "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞ –¥–ª—è –¥—ñ—Ç–µ–π", 
    code: "FD-001",
    pages: 192,
    status: "–ù–æ–≤–µ",
    age: "8+",
    available: true,
    rating: { value: 4.6, count: 91 },
    badges: ["–ù–æ–≤–µ"],
    short: "–ó–∞—Ö–æ–ø–ª—é—é—á–∞ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –¥—ñ—Ç–µ–π, —è–∫—ñ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –¥–æ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ —Å–≤—ñ—Ç—É. –ö–Ω–∏–≥–∞ —Ä–æ–∑–≤–∏–≤–∞—î —É—è–≤—É, –Ω–∞–≤—á–∞—î –¥—Ä—É–∂–±—ñ —Ç–∞ –≤—ñ–¥–≤–∞–∑—ñ. –Ø—Å–∫—Ä–∞–≤–∏–π —Å—é–∂–µ—Ç —Ç–∞ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω—ñ –ø–æ–≤–æ—Ä–æ—Ç–∏ –ø–æ–¥—ñ–π –∑–∞—á–∞—Ä—É—é—Ç—å —é–Ω–∏—Ö —á–∏—Ç–∞—á—ñ–≤."
  },
  {
    id: "10",
    title: "–õ—ñ—Å–æ–≤—ñ –ø—Ä–∏–≥–æ–¥–∏", 
    author: "–û–∫—Å–∞–Ω–∞ –î—Ä–∞–≥–æ–º–∞–Ω–æ–≤–∞",
    cover: "/images/books/d7325c14_4b11e07649665b222b0df664aa33a60f-1.webp",
    category: "–ü—Ä–∏—Ä–æ–¥–Ω–∏—á—ñ –æ–ø–æ–≤—ñ–¥–∞–Ω–Ω—è",
    code: "PO-001", 
    pages: 144,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    available: true,
    rating: { value: 4.5, count: 189 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–ó–±—ñ—Ä–∫–∞ –ø—ñ–∑–Ω–∞–≤–∞–ª—å–Ω–∏—Ö –æ–ø–æ–≤—ñ–¥–∞–Ω—å –ø—Ä–æ —Ç–≤–∞—Ä–∏–Ω –ª—ñ—Å—É —Ç–∞ —ó—Ö–Ω—î –∂–∏—Ç—Ç—è. –ö–Ω–∏–≥–∞ –Ω–∞–≤—á–∞—î –¥—ñ—Ç–µ–π –ª—é–±–∏—Ç–∏ –ø—Ä–∏—Ä–æ–¥—É —Ç–∞ –¥–±–∞–π–ª–∏–≤–æ —Å—Ç–∞–≤–∏—Ç–∏—Å—è –¥–æ –¥–æ–≤–∫—ñ–ª–ª—è. –ü–æ—î–¥–Ω—É—î –∑–∞—Ö–æ–ø–ª—é—é—á—ñ —ñ—Å—Ç–æ—Ä—ñ—ó –∑ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –∑–Ω–∞–Ω–Ω—è–º–∏ –ø—Ä–æ –ø—Ä–∏—Ä–æ–¥—É."
  },
  {
    id: "11",
    title: "–ö–∞–∑–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ –¥—É–±–∞", 
    author: "–ì–∞–ª–∏–Ω–∞ –ú–∞–ª–∏–∫",
    cover: "/images/books/becfc41438e625b9.jpg",
    category: "–ö–∞–∑–∫–∏",
    code: "KZ-002", 
    pages: 112,
    status: "–ù–æ–≤–µ",
    available: true,
    rating: { value: 4.8, count: 143 },
    badges: ["–ù–æ–≤–µ"],
    short: "–ß–∞—Ä—ñ–≤–Ω—ñ –∫–∞–∑–∫–∏, —è–∫—ñ —Ä–æ–∑–ø–æ–≤—ñ–¥–∞—î –º—É–¥—Ä–∏–π —Å—Ç–∞—Ä–∏–π –¥—É–± –ª—ñ—Å–æ–≤–∏–º –º–µ—à–∫–∞–Ω—Ü—è–º. –ö–æ–∂–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –Ω–µ—Å–µ –≤–∞–∂–ª–∏–≤–∏–π –∂–∏—Ç—Ç—î–≤–∏–π —É—Ä–æ–∫ –ø—Ä–æ –¥–æ–±—Ä–æ—Ç—É, –º—É–¥—Ä—ñ—Å—Ç—å —Ç–∞ –≤–∑–∞—î–º–æ–¥–æ–ø–æ–º–æ–≥—É. –ö—Ä–∞—Å–∏–≤—ñ —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –∑–∞—Ö–æ–ø–ª—é—é—á—ñ —Å—é–∂–µ—Ç–∏."
  },
  {
    id: "12",
    title: "–ú–æ–ª–æ–¥—ñ–∂–Ω—ñ –ø—Ä–∏–≥–æ–¥–∏", 
    author: "–¢–µ—Ç—è–Ω–∞ –°—Ç—É—Å",
    cover: "/images/books/a202209a29003755.jpg",
    category: "–ü—ñ–¥–ª—ñ—Ç–∫–æ–≤–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "PL-002", 
    pages: 280,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    available: true,
    rating: { value: 4.6, count: 167 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–°—É—á–∞—Å–Ω–∞ –ø–æ–≤—ñ—Å—Ç—å –ø—Ä–æ –ø—ñ–¥–ª—ñ—Ç–∫—ñ–≤ —Ç–∞ —ó—Ö–Ω—ñ –ø–æ—à—É–∫–∏ —Å–µ–±–µ —É —Å–∫–ª–∞–¥–Ω–æ–º—É —Å–≤—ñ—Ç—ñ. –ê–≤—Ç–æ—Ä —Ç–æ—Ä–∫–∞—î—Ç—å—Å—è –≤–∞–∂–ª–∏–≤–∏—Ö —Ç–µ–º –¥—Ä—É–∂–±–∏, –ø–µ—Ä—à–∏—Ö –∫–æ—Ö–∞–Ω—å —Ç–∞ –∂–∏—Ç—Ç—î–≤–∏—Ö –≤–∏–±–æ—Ä—ñ–≤. –ê–∫—Ç—É–∞–ª—å–Ω–∞ —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–ª–∞ –º–æ–≤–∞ –¥–ª—è —Å—É—á–∞—Å–Ω–æ—ó –º–æ–ª–æ–¥—ñ."
  },
  {
    id: "13",
    title: "–ß–∞—Ä—ñ–≤–Ω–∏–π –ª—ñ—Å", 
    author: "–ë–æ–≥–¥–∞–Ω –õ–µ–ø–∫–∏–π",
    cover: "/images/books/74e10b67_9789664484104.webp",
    category: "–ö–∞–∑–∫–∏",
    code: "KZ-003", 
    pages: 96,
    status: "–ö–ª–∞—Å–∏–∫–∞",
    available: false,
    rating: { value: 4.7, count: 201 },
    badges: ["–ö–ª–∞—Å–∏–∫–∞"],
    short: "–ö–ª–∞—Å–∏—á–Ω—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∫–∞–∑–∫–∏ –ø—Ä–æ —á–∞—Ä—ñ–≤–Ω–∏–π –ª—ñ—Å —Ç–∞ –π–æ–≥–æ –º–µ—à–∫–∞–Ω—Ü—ñ–≤. –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ –º–æ—Ç–∏–≤–∏ –ø–æ—î–¥–Ω–∞–Ω—ñ –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º —Å—Ç–∏–ª–µ–º. –í–∏—Ö–æ–≤—É—é—Ç—å –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω—É —Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å —Ç–∞ –ª—é–±–æ–≤ –¥–æ —Ä—ñ–¥–Ω–æ—ó –∫—É–ª—å—Ç—É—Ä–∏."
  },
  {
    id: "14",
    title: "–°–µ–∫—Ä–µ—Ç–∏ –¥–∏—Ç–∏–Ω—Å—Ç–≤–∞", 
    author: "–Ü—Ä–∏–Ω–∞ –ñ–∏–ª–µ–Ω–∫–æ",
    cover: "/images/books/adea76185896e86af796c11e23feee06.webp",
    category: "–°—ñ–º–µ–π–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó",
    code: "SI-001", 
    pages: 176,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    available: true,
    rating: { value: 4.9, count: 89 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–¢–µ–ø–ª–∞ —Ä–æ–∑–ø–æ–≤—ñ–¥—å –ø—Ä–æ –¥–∏—Ç–∏–Ω—Å—Ç–≤–æ, —Å—ñ–º'—é —Ç–∞ –ø–µ—Ä—à—ñ –∂–∏—Ç—Ç—î–≤—ñ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è. –ö–Ω–∏–≥–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–æ–¥–∏–Ω–Ω–∏—Ö —Ü—ñ–Ω–Ω–æ—Å—Ç–µ–π —Ç–∞ —Ç—Ä–∞–¥–∏—Ü—ñ–π. –õ–∞–≥—ñ–¥–Ω–∏–π —Å—Ç–∏–ª—å —Ç–∞ –≥–ª–∏–±–æ–∫—ñ –µ–º–æ—Ü—ñ—ó –∑–∞—á–µ–ø–ª—è—Ç—å —Å–µ—Ä—Ü—è —á–∏—Ç–∞—á—ñ–≤."
  },
  {
    id: "15",
    title: "–ü—Ä–∏–≥–æ–¥–∏ —é–Ω–æ–≥–æ –¥–æ—Å–ª—ñ–¥–Ω–∏–∫–∞", 
    author: "–ú–∞–∫—Å–∏–º –†–∏–ª—å—Å—å–∫–∏–π",
    cover: "/images/books/f7f62476f026ed35.jpg",
    category: "–ü—ñ–∑–Ω–∞–≤–∞–ª—å–Ω–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    code: "PZ-001", 
    pages: 208,
    status: "–ù–æ–≤–µ",
    available: true,
    rating: { value: 4.5, count: 124 },
    badges: ["–ù–æ–≤–µ"],
    short: "–ó–∞—Ö–æ–ø–ª—é—é—á–∞ –∫–Ω–∏–≥–∞ –¥–ª—è –¥—ñ—Ç–µ–π –ø—Ä–æ –Ω–∞—É–∫–æ–≤—ñ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ç–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è. –ü–æ—î–¥–Ω—É—î –ø—Ä–∏–≥–æ–¥–Ω–∏—Ü—å–∫–∏–π —Å—é–∂–µ—Ç –∑ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –∑–Ω–∞–Ω–Ω—è–º–∏ –ø—Ä–æ —Å–≤—ñ—Ç –Ω–∞—É–∫–∏. –ù–∞–¥–∏—Ö–∞—î –¥—ñ—Ç–µ–π –Ω–∞ –ø—ñ–∑–Ω–∞–Ω–Ω—è —Ç–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è."
  },
  {
    id: "16",
    title: "–¢–∞—î–º–Ω–∏—Ü—ñ —Å—Ç–∞—Ä–æ–≥–æ –∑–∞–º–∫—É", 
    author: "–í–æ–ª–æ–¥–∏–º–∏—Ä –í–∏–Ω–Ω–∏—á–µ–Ω–∫–æ",
    cover: "/images/books/9ab0e8524aed78ad.jpg",
    category: "–ú—ñ—Å—Ç–∏–∫–∞ –¥–ª—è –¥—ñ—Ç–µ–π",
    code: "MD-001", 
    pages: 192,
    status: "–í —Ç—Ä–µ–Ω–¥—ñ",
    available: true,
    rating: { value: 4.6, count: 156 },
    badges: ["–í —Ç—Ä–µ–Ω–¥—ñ"],
    short: "–Ü–Ω—Ç—Ä–∏–≥—É—é—á–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –¥—ñ—Ç–µ–π, —è–∫—ñ —Ä–æ–∑–∫—Ä–∏–≤–∞—é—Ç—å —Ç–∞—î–º–Ω–∏—Ü—ñ —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω–æ–≥–æ –∑–∞–º–∫—É. –õ–µ–≥–∫–∏–π –ø—Ä–∏—Å–º–∞–∫ –º—ñ—Å—Ç–∏–∫–∏ –ø–æ—î–¥–Ω–∞–Ω–∏–π –∑ —Ü—ñ–∫–∞–≤–∏–º –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω–∏–º —Å—é–∂–µ—Ç–æ–º. –†–æ–∑–≤–∏–≤–∞—î –ª–æ–≥—ñ—á–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ —É—è–≤—É –¥—ñ—Ç–µ–π."
  }
]

async function seedCatalogBooks() {
  try {
    console.log('üöÄ Starting to seed all catalog books...')
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–∏–≥–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
    
    let successCount = 0
    let totalBooks = CATALOG_BOOKS.length
    
    console.log(`üìö Loading ${totalBooks} books from catalog...`)
    
    for (const book of CATALOG_BOOKS) {
      console.log(`\nüìñ Processing: "${book.title}" by ${book.author}`)
      
      // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è Supabase
      const bookData = {
        code: book.code,
        title: book.title,
        author: book.author,
        category: book.category,
        subcategory: null,
        description: book.short, // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –ø–æ–ª–Ω–æ–µ
        short_description: book.short,
        isbn: null,
        pages: book.pages,
        age_range: book.age || '0+',
        language: 'Ukrainian',
        publisher: null,
        publication_year: null,
        cover_url: book.cover,
        status: book.available ? 'available' : 'issued',
        available: book.available,
        qty_total: 1,
        qty_available: book.available ? 1 : 0,
        price_uah: Math.floor(Math.random() * 200) + 100, // –°–ª—É—á–∞–π–Ω–∞—è —Ü–µ–Ω–∞ –æ—Ç 100 –¥–æ 300 –≥—Ä–Ω
        location: '–≤—É–ª. –ú–∞—Ä—ñ—É–ø–æ–ª—å—Å—å–∫–∞ 13/2, –ú–∏–∫–æ–ª–∞—ó–≤',
        rating: book.rating.value,
        rating_count: book.rating.count,
        badges: book.badges,
        tags: [book.category.toLowerCase(), book.status.toLowerCase()],
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      }
      
      console.log(`   üíæ Checking if book exists...`)
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–Ω–∏–≥–∞ —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–º
      const { data: existingBook, error: checkError } = await supabase
        .from('books')
        .select('id, code')
        .eq('code', book.code)
        .single()
      
      if (checkError && checkError.code !== 'PGRST116') {
        console.error(`   ‚ùå Error checking book "${book.title}":`, checkError)
        continue
      }
      
      if (existingBook) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–Ω–∏–≥—É
        console.log(`   üîÑ Book exists, updating...`)
        const { data, error } = await supabase
          .from('books')
          .update(bookData)
          .eq('id', existingBook.id)
          .select()
        
        if (error) {
          console.error(`   ‚ùå Error updating "${book.title}":`, error)
        } else {
          successCount++
          console.log(`   ‚úÖ Successfully updated "${book.title}" (ID: ${data[0]?.id})`)
          console.log(`   üìä Price: ${bookData.price_uah} ‚Ç¥, Pages: ${bookData.pages}, Rating: ${bookData.rating}`)
        }
      } else {
        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–Ω–∏–≥—É
        console.log(`   ‚ûï Book not found, creating new...`)
        const { data, error } = await supabase
          .from('books')
          .insert([bookData])
          .select()
        
        if (error) {
          console.error(`   ‚ùå Error inserting "${book.title}":`, error)
        } else {
          successCount++
          console.log(`   ‚úÖ Successfully added "${book.title}" (ID: ${data[0]?.id})`)
          console.log(`   üìä Price: ${bookData.price_uah} ‚Ç¥, Pages: ${bookData.pages}, Rating: ${bookData.rating}`)
        }
      }
    }
    
    console.log(`\nüéâ Seeding completed!`)
    console.log(`üìä Results: ${successCount}/${totalBooks} books successfully loaded`)
    
    if (successCount === totalBooks) {
      console.log(`‚ú® All catalog books are now in the database!`)
    }
    
  } catch (error) {
    console.error('üí• Script error:', error)
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
seedCatalogBooks()