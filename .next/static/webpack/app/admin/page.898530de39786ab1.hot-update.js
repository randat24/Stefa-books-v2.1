"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/page",{

/***/ "(app-pages-browser)/./src/app/admin/actions.ts":
/*!**********************************!*\
  !*** ./src/app/admin/actions.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBook: function() { return /* binding */ createBook; },\n/* harmony export */   deleteBook: function() { return /* binding */ deleteBook; },\n/* harmony export */   updateBook: function() { return /* binding */ updateBook; }\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(app-pages-browser)/../../../node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n\n\n// ============================================================================\n// ВАЛІДАЦІЙНІ СХЕМИ\n// ============================================================================\nconst BookInsertSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    code: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1, \"Код книги обов'язковий\"),\n    title: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1, \"Назва книги обов'язкова\"),\n    author: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1, \"Автор обов'язковий\"),\n    category: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1, \"Категорія обов'язкова\"),\n    subcategory: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    short_description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    isbn: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    pages: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().min(1).optional(),\n    age_range: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    language: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    publisher: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    publication_year: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().min(1000).max(new Date().getFullYear()).optional(),\n    cover_url: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().url().optional(),\n    status: zod__WEBPACK_IMPORTED_MODULE_1__.z.enum([\n        \"available\",\n        \"issued\",\n        \"reserved\",\n        \"lost\"\n    ]),\n    qty_total: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().min(1),\n    price_uah: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(0).optional(),\n    location: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    rating: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(0).max(5).optional(),\n    rating_count: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().min(0).optional(),\n    badges: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.string()).optional(),\n    tags: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.string()).optional()\n});\n// ============================================================================\n// SERVER ACTIONS\n// ============================================================================\nasync function createBook(form) {\n    try {\n        // Валідуємо дані\n        const input = BookInsertSchema.parse(form);\n        console.log(\"Creating book:\", input);\n        // Создаем книгу в Supabase\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"books\").insert({\n            ...input,\n            qty_available: input.qty_total,\n            available: input.status === \"available\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).select();\n        if (error) {\n            console.error(\"Supabase error:\", error);\n            throw new Error(error.message);\n        }\n        if (!data || data.length === 0) {\n            throw new Error(\"Не вдалося створити книгу - дані не повернулися з бази\");\n        }\n        const createdBook = data[0];\n        console.log(\"Book created successfully:\", createdBook);\n        return {\n            success: true,\n            data: createdBook\n        };\n    } catch (error) {\n        console.error(\"Create book error:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodError) {\n            return {\n                success: false,\n                error: error.errors.map((e)=>e.message).join(\", \")\n            };\n        }\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Невідома помилка\"\n        };\n    }\n}\nasync function updateBook(id, form) {\n    try {\n        var _form_subcategory, _form_description, _form_short_description, _form_location;\n        console.log(\"\\uD83D\\uDCDD Starting book update:\", id, form);\n        // Проверяем что ID действительно передан\n        if (!id || !id.trim()) {\n            return {\n                success: false,\n                error: \"ID книги не передан або пустий\"\n            };\n        }\n        // Валідуємо обов'язкові поля якщо вони присутні\n        if (form.code && !form.code.trim()) {\n            return {\n                success: false,\n                error: \"Код книги не може бути пустим\"\n            };\n        }\n        if (form.title && !form.title.trim()) {\n            return {\n                success: false,\n                error: \"Назва книги не може бути пустою\"\n            };\n        }\n        // Підготовлюємо дані для оновлення\n        const updateData = {};\n        if (form.code) updateData.code = form.code.trim();\n        if (form.title) updateData.title = form.title.trim();\n        if (form.author) updateData.author = form.author.trim();\n        if (form.category) updateData.category = form.category.trim();\n        if (form.subcategory !== undefined) updateData.subcategory = ((_form_subcategory = form.subcategory) === null || _form_subcategory === void 0 ? void 0 : _form_subcategory.trim()) || null;\n        if (form.description !== undefined) updateData.description = ((_form_description = form.description) === null || _form_description === void 0 ? void 0 : _form_description.trim()) || null;\n        if (form.short_description !== undefined) updateData.short_description = ((_form_short_description = form.short_description) === null || _form_short_description === void 0 ? void 0 : _form_short_description.trim()) || null;\n        if (form.location !== undefined) updateData.location = ((_form_location = form.location) === null || _form_location === void 0 ? void 0 : _form_location.trim()) || null;\n        if (form.cover_url !== undefined) updateData.cover_url = form.cover_url || null;\n        if (form.status) updateData.status = form.status;\n        if (form.qty_total !== undefined) updateData.qty_total = Math.max(1, form.qty_total);\n        if (form.price_uah !== undefined) updateData.price_uah = form.price_uah || null;\n        // Якщо змінюється кількість, оновлюємо доступність\n        if (form.qty_total !== undefined) {\n            // Підраховуємо активні аренди\n            const { data: rentals, error: rentalsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"rentals\").select(\"id\").eq(\"book_id\", id).in(\"status\", [\n                \"active\",\n                \"overdue\"\n            ]);\n            if (rentalsError) {\n                console.warn(\"Could not count active rentals:\", rentalsError);\n            } else {\n                const activeRentals = (rentals === null || rentals === void 0 ? void 0 : rentals.length) || 0;\n                updateData.qty_available = Math.max(0, updateData.qty_total - activeRentals);\n                updateData.available = updateData.qty_available > 0;\n            }\n        }\n        // Оновлюємо дату зміни\n        updateData.updated_at = new Date().toISOString();\n        console.log(\"\\uD83D\\uDCBE Attempting to update book with ID:\", id);\n        console.log(\"\\uD83D\\uDCE6 Update data:\", JSON.stringify(updateData, null, 2));\n        // Спочатку перевіримо, чи існує книга з таким ID\n        const { data: existingBook, error: checkError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"books\").select(\"id\").eq(\"id\", id).single();\n        if (checkError || !existingBook) {\n            const errorMessage = \"Книгу з ID \".concat(id, \" не знайдено в базі даних\");\n            console.error(errorMessage, checkError);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n        console.log(\"✅ Book exists, proceeding with update\");\n        // Оновлюємо книгу в Supabase\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"books\").update(updateData).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Supabase error:\", error);\n            throw new Error(error.message);\n        }\n        console.log(\"✅ Book updated successfully:\", data);\n        console.log(\"\\uD83D\\uDD0D Updated book data:\", JSON.stringify(data, null, 2));\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        console.error(\"Update book error:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Невідома помилка\"\n        };\n    }\n}\nasync function deleteBook(id) {\n    try {\n        console.log(\"Deleting book:\", id);\n        // Проверяем есть ли активные аренды для этой книги\n        const { data: rentals, error: rentalsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"rentals\").select(\"id\").eq(\"book_id\", id).in(\"status\", [\n            \"active\",\n            \"overdue\"\n        ]);\n        if (rentalsError) {\n            throw new Error(\"Помилка перевірки орендувань: \".concat(rentalsError.message));\n        }\n        if (rentals && rentals.length > 0) {\n            return {\n                success: false,\n                error: \"Неможливо видалити книгу, яка має активні орендування. Спочатку поверніть всі примірники.\"\n            };\n        }\n        // Удаляем книгу\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"books\").delete().eq(\"id\", id);\n        if (error) {\n            throw new Error(error.message);\n        }\n        console.log(\"Book deleted successfully:\", id);\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Delete book error:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Невідома помилка\"\n        };\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYWRtaW4vYWN0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1QjtBQUNrQjtBQUd6QywrRUFBK0U7QUFDL0Usb0JBQW9CO0FBQ3BCLCtFQUErRTtBQUUvRSxNQUFNRSxtQkFBbUJGLGtDQUFDQSxDQUFDRyxNQUFNLENBQUM7SUFDaENDLE1BQU1KLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO0lBQ3hCQyxPQUFPUCxrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztJQUN6QkUsUUFBUVIsa0NBQUNBLENBQUNLLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7SUFDMUJHLFVBQVVULGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO0lBQzVCSSxhQUFhVixrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHTSxRQUFRO0lBQ2hDQyxhQUFhWixrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHTSxRQUFRO0lBQ2hDRSxtQkFBbUJiLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdNLFFBQVE7SUFDdENHLE1BQU1kLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdNLFFBQVE7SUFDekJJLE9BQU9mLGtDQUFDQSxDQUFDZ0IsTUFBTSxHQUFHQyxHQUFHLEdBQUdYLEdBQUcsQ0FBQyxHQUFHSyxRQUFRO0lBQ3ZDTyxXQUFXbEIsa0NBQUNBLENBQUNLLE1BQU0sR0FBR00sUUFBUTtJQUM5QlEsVUFBVW5CLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdNLFFBQVE7SUFDN0JTLFdBQVdwQixrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHTSxRQUFRO0lBQzlCVSxrQkFBa0JyQixrQ0FBQ0EsQ0FBQ2dCLE1BQU0sR0FBR0MsR0FBRyxHQUFHWCxHQUFHLENBQUMsTUFBTWdCLEdBQUcsQ0FBQyxJQUFJQyxPQUFPQyxXQUFXLElBQUliLFFBQVE7SUFDbkZjLFdBQVd6QixrQ0FBQ0EsQ0FBQ0ssTUFBTSxH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RUFBVTtJQUN6QyxJQUFJO1FBQ0Z2QixRQUFRQyxHQUFHLENBQUMsa0JBQWtCc0I7UUFFOUIsbURBQW1EO1FBQ25ELE1BQU0sRUFBRXJCLE1BQU0wQixPQUFPLEVBQUV6QixPQUFPMEIsWUFBWSxFQUFFLEdBQUcsTUFBTXJFLG1EQUFRQSxDQUMxRDRDLElBQUksQ0FBQyxXQUNMTyxNQUFNLENBQUMsTUFDUG1CLEVBQUUsQ0FBQyxXQUFXUCxJQUNkUSxFQUFFLENBQUMsVUFBVTtZQUFDO1lBQVU7U0FBVTtRQUVyQyxJQUFJRixjQUFjO1lBQ2hCLE1BQU0sSUFBSWpCLE1BQU0saUNBQXNELE9BQXJCaUIsYUFBYWhCLE9BQU87UUFDdkU7UUFFQSxJQUFJZSxXQUFXQSxRQUFRZCxNQUFNLEdBQUcsR0FBRztZQUNqQyxPQUFPO2dCQUNMRSxTQUFTO2dCQUNUYixPQUFPO1lBQ1Q7UUFDRjtRQUVBLGdCQUFnQjtRQUNoQixNQUFNLEVBQUVBLEtBQUssRUFBRSxHQUFHLE1BQU0zQyxtREFBUUEsQ0FDN0I0QyxJQUFJLENBQUMsU0FDTHNDLE1BQU0sR0FDTlosRUFBRSxDQUFDLE1BQU1QO1FBRVosSUFBSXBCLE9BQU87WUFDVCxNQUFNLElBQUlTLE1BQU1ULE1BQU1VLE9BQU87UUFDL0I7UUFFQWIsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QnNCO1FBRTFDLE9BQU87WUFBRVAsU0FBUztRQUFLO0lBRXpCLEVBQUUsT0FBT2IsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsc0JBQXNCQTtRQUNwQyxPQUFPO1lBQ0xhLFNBQVM7WUFDVGIsT0FBT0EsaUJBQWlCUyxRQUFRVCxNQUFNVSxPQUFPLEdBQUc7UUFDbEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvYWRtaW4vYWN0aW9ucy50cz8xNjYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlXCJcbmltcG9ydCB0eXBlIHsgQ3JlYXRlQm9va0Zvcm0gfSBmcm9tIFwiQC9saWIvdHlwZXMvYWRtaW5cIlxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyDQktCQ0JvQhtCU0JDQptCG0JnQndCGINCh0KXQldCc0Jhcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgQm9va0luc2VydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY29kZTogei5zdHJpbmcoKS5taW4oMSwgXCLQmtC+0LQg0LrQvdC40LPQuCDQvtCx0L7QsifRj9C30LrQvtCy0LjQuVwiKSxcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEsIFwi0J3QsNC30LLQsCDQutC90LjQs9C4INC+0LHQvtCyJ9GP0LfQutC+0LLQsFwiKSxcbiAgYXV0aG9yOiB6LnN0cmluZygpLm1pbigxLCBcItCQ0LLRgtC+0YAg0L7QsdC+0LIn0Y/Qt9C60L7QstC40LlcIiksXG4gIGNhdGVnb3J5OiB6LnN0cmluZygpLm1pbigxLCBcItCa0LDRgtC10LPQvtGA0ZbRjyDQvtCx0L7QsifRj9C30LrQvtCy0LBcIiksXG4gIHN1YmNhdGVnb3J5OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNob3J0X2Rlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGlzYm46IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcGFnZXM6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm9wdGlvbmFsKCksXG4gIGFnZV9yYW5nZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBsYW5ndWFnZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwdWJsaXNoZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHVibGljYXRpb25feWVhcjogei5udW1iZXIoKS5pbnQoKS5taW4oMTAwMCkubWF4KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSkub3B0aW9uYWwoKSxcbiAgY292ZXJfdXJsOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnYXZhaWxhYmxlJywgJ2lzc3VlZCcsICdyZXNlcnZlZCcsICdsb3N0J10pLFxuICBxdHlfdG90YWw6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLFxuICBwcmljZV91YWg6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCksXG4gIGxvY2F0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHJhdGluZzogei5udW1iZXIoKS5taW4oMCkubWF4KDUpLm9wdGlvbmFsKCksXG4gIHJhdGluZ19jb3VudDogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcbiAgYmFkZ2VzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIHRhZ3M6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNFUlZFUiBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVCb29rKGZvcm06IENyZWF0ZUJvb2tGb3JtKSB7XG4gIHRyeSB7XG4gICAgLy8g0JLQsNC70ZbQtNGD0ZTQvNC+INC00LDQvdGWXG4gICAgY29uc3QgaW5wdXQgPSBCb29rSW5zZXJ0U2NoZW1hLnBhcnNlKGZvcm0pXG4gICAgXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGJvb2s6JywgaW5wdXQpXG4gICAgXG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0LrQvdC40LPRgyDQsiBTdXBhYmFzZVxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYm9va3MnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBxdHlfYXZhaWxhYmxlOiBpbnB1dC5xdHlfdG90YWwsXG4gICAgICAgIGF2YWlsYWJsZTogaW5wdXQuc3RhdHVzID09PSAnYXZhaWxhYmxlJyxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGVycm9yOicsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpXG4gICAgfVxuICAgIFxuICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfQndC1INCy0LTQsNC70L7RgdGPINGB0YLQstC+0YDQuNGC0Lgg0LrQvdC40LPRgyAtINC00LDQvdGWINC90LUg0L/QvtCy0LXRgNC90YPQu9C40YHRjyDQtyDQsdCw0LfQuCcpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNyZWF0ZWRCb29rID0gZGF0YVswXVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdCb29rIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIGNyZWF0ZWRCb29rKVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNyZWF0ZWRCb29rIH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgYm9vayBlcnJvcjonLCBlcnJvcilcbiAgICBcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogZXJyb3IuZXJyb3JzLm1hcChlID0+IGUubWVzc2FnZSkuam9pbignLCAnKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfQndC10LLRltC00L7QvNCwINC/0L7QvNC40LvQutCwJ1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQm9vayhpZDogc3RyaW5nLCBmb3JtOiBQYXJ0aWFsPENyZWF0ZUJvb2tGb3JtPikge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OdIFN0YXJ0aW5nIGJvb2sgdXBkYXRlOicsIGlkLCBmb3JtKVxuICAgIFxuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4gSUQg0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90L4g0L/QtdGA0LXQtNCw0L1cbiAgICBpZiAoIWlkIHx8ICFpZC50cmltKCkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJRCDQutC90LjQs9C4INC90LUg0L/QtdGA0LXQtNCw0L0g0LDQsdC+INC/0YPRgdGC0LjQuVwiIH1cbiAgICB9XG4gICAgXG4gICAgLy8g0JLQsNC70ZbQtNGD0ZTQvNC+INC+0LHQvtCyJ9GP0LfQutC+0LLRliDQv9C+0LvRjyDRj9C60YnQviDQstC+0L3QuCDQv9GA0LjRgdGD0YLQvdGWXG4gICAgaWYgKGZvcm0uY29kZSAmJiAhZm9ybS5jb2RlLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcItCa0L7QtCDQutC90LjQs9C4INC90LUg0LzQvtC20LUg0LHRg9GC0Lgg0L/Rg9GB0YLQuNC8XCIgfVxuICAgIH1cbiAgICBpZiAoZm9ybS50aXRsZSAmJiAhZm9ybS50aXRsZS50cmltKCkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCLQndCw0LfQstCwINC60L3QuNCz0Lgg0L3QtSDQvNC+0LbQtSDQsdGD0YLQuCDQv9GD0YHRgtC+0Y5cIiB9XG4gICAgfVxuICAgIFxuICAgIC8vINCf0ZbQtNCz0L7RgtC+0LLQu9GO0ZTQvNC+INC00LDQvdGWINC00LvRjyDQvtC90L7QstC70LXQvdC90Y9cbiAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7fVxuICAgIFxuICAgIGlmIChmb3JtLmNvZGUpIHVwZGF0ZURhdGEuY29kZSA9IGZvcm0uY29kZS50cmltKClcbiAgICBpZiAoZm9ybS50aXRsZSkgdXBkYXRlRGF0YS50aXRsZSA9IGZvcm0udGl0bGUudHJpbSgpXG4gICAgaWYgKGZvcm0uYXV0aG9yKSB1cGRhdGVEYXRhLmF1dGhvciA9IGZvcm0uYXV0aG9yLnRyaW0oKVxuICAgIGlmIChmb3JtLmNhdGVnb3J5KSB1cGRhdGVEYXRhLmNhdGVnb3J5ID0gZm9ybS5jYXRlZ29yeS50cmltKClcbiAgICBpZiAoZm9ybS5zdWJjYXRlZ29yeSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnN1YmNhdGVnb3J5ID0gZm9ybS5zdWJjYXRlZ29yeT8udHJpbSgpIHx8IG51bGxcbiAgICBpZiAoZm9ybS5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmRlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbj8udHJpbSgpIHx8IG51bGxcbiAgICBpZiAoZm9ybS5zaG9ydF9kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnNob3J0X2Rlc2NyaXB0aW9uID0gZm9ybS5zaG9ydF9kZXNjcmlwdGlvbj8udHJpbSgpIHx8IG51bGxcbiAgICBpZiAoZm9ybS5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmxvY2F0aW9uID0gZm9ybS5sb2NhdGlvbj8udHJpbSgpIHx8IG51bGxcbiAgICBpZiAoZm9ybS5jb3Zlcl91cmwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5jb3Zlcl91cmwgPSBmb3JtLmNvdmVyX3VybCB8fCBudWxsXG4gICAgaWYgKGZvcm0uc3RhdHVzKSB1cGRhdGVEYXRhLnN0YXR1cyA9IGZvcm0uc3RhdHVzXG4gICAgaWYgKGZvcm0ucXR5X3RvdGFsICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucXR5X3RvdGFsID0gTWF0aC5tYXgoMSwgZm9ybS5xdHlfdG90YWwpXG4gICAgaWYgKGZvcm0ucHJpY2VfdWFoICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucHJpY2VfdWFoID0gZm9ybS5wcmljZV91YWggfHwgbnVsbFxuICAgIFxuICAgIC8vINCv0LrRidC+INC30LzRltC90Y7RlNGC0YzRgdGPINC60ZbQu9GM0LrRltGB0YLRjCwg0L7QvdC+0LLQu9GO0ZTQvNC+INC00L7RgdGC0YPQv9C90ZbRgdGC0YxcbiAgICBpZiAoZm9ybS5xdHlfdG90YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8g0J/RltC00YDQsNGF0L7QstGD0ZTQvNC+INCw0LrRgtC40LLQvdGWINCw0YDQtdC90LTQuFxuICAgICAgY29uc3QgeyBkYXRhOiByZW50YWxzLCBlcnJvcjogcmVudGFsc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncmVudGFscycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdib29rX2lkJywgaWQpXG4gICAgICAgIC5pbignc3RhdHVzJywgWydhY3RpdmUnLCAnb3ZlcmR1ZSddKVxuICAgICAgXG4gICAgICBpZiAocmVudGFsc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGNvdW50IGFjdGl2ZSByZW50YWxzOicsIHJlbnRhbHNFcnJvcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVJlbnRhbHMgPSByZW50YWxzPy5sZW5ndGggfHwgMFxuICAgICAgICB1cGRhdGVEYXRhLnF0eV9hdmFpbGFibGUgPSBNYXRoLm1heCgwLCB1cGRhdGVEYXRhLnF0eV90b3RhbCAtIGFjdGl2ZVJlbnRhbHMpXG4gICAgICAgIHVwZGF0ZURhdGEuYXZhaWxhYmxlID0gdXBkYXRlRGF0YS5xdHlfYXZhaWxhYmxlID4gMFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyDQntC90L7QstC70Y7RlNC80L4g0LTQsNGC0YMg0LfQvNGW0L3QuFxuICAgIHVwZGF0ZURhdGEudXBkYXRlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5K+IEF0dGVtcHRpbmcgdG8gdXBkYXRlIGJvb2sgd2l0aCBJRDonLCBpZClcbiAgICBjb25zb2xlLmxvZygn8J+TpiBVcGRhdGUgZGF0YTonLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVEYXRhLCBudWxsLCAyKSlcbiAgICBcbiAgICAvLyDQodC/0L7Rh9Cw0YLQutGDINC/0LXRgNC10LLRltGA0LjQvNC+LCDRh9C4INGW0YHQvdGD0ZQg0LrQvdC40LPQsCDQtyDRgtCw0LrQuNC8IElEXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ0Jvb2ssIGVycm9yOiBjaGVja0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2Jvb2tzJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChjaGVja0Vycm9yIHx8ICFleGlzdGluZ0Jvb2spIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGDQmtC90LjQs9GDINC3IElEICR7aWR9INC90LUg0LfQvdCw0LnQtNC10L3QviDQsiDQsdCw0LfRliDQtNCw0L3QuNGFYFxuICAgICAgY29uc29sZS5lcnJvcihlcnJvck1lc3NhZ2UsIGNoZWNrRXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yTWVzc2FnZSB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgQm9vayBleGlzdHMsIHByb2NlZWRpbmcgd2l0aCB1cGRhdGUnKVxuICAgIFxuICAgIC8vINCe0L3QvtCy0LvRjtGU0LzQviDQutC90LjQs9GDINCyIFN1cGFiYXNlXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdib29rcycpXG4gICAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBCb29rIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OicsIGRhdGEpXG4gICAgY29uc29sZS5sb2coJ/CflI0gVXBkYXRlZCBib29rIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpXG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVXBkYXRlIGJvb2sgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn0J3QtdCy0ZbQtNC+0LzQsCDQv9C+0LzQuNC70LrQsCdcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUJvb2soaWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdEZWxldGluZyBib29rOicsIGlkKVxuICAgIFxuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INCw0LrRgtC40LLQvdGL0LUg0LDRgNC10L3QtNGLINC00LvRjyDRjdGC0L7QuSDQutC90LjQs9C4XG4gICAgY29uc3QgeyBkYXRhOiByZW50YWxzLCBlcnJvcjogcmVudGFsc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3JlbnRhbHMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdib29rX2lkJywgaWQpXG4gICAgICAuaW4oJ3N0YXR1cycsIFsnYWN0aXZlJywgJ292ZXJkdWUnXSlcbiAgICBcbiAgICBpZiAocmVudGFsc0Vycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYNCf0L7QvNC40LvQutCwINC/0LXRgNC10LLRltGA0LrQuCDQvtGA0LXQvdC00YPQstCw0L3RjDogJHtyZW50YWxzRXJyb3IubWVzc2FnZX1gKVxuICAgIH1cbiAgICBcbiAgICBpZiAocmVudGFscyAmJiByZW50YWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiAn0J3QtdC80L7QttC70LjQstC+INCy0LjQtNCw0LvQuNGC0Lgg0LrQvdC40LPRgywg0Y/QutCwINC80LDRlCDQsNC60YLQuNCy0L3RliDQvtGA0LXQvdC00YPQstCw0L3QvdGPLiDQodC/0L7Rh9Cw0YLQutGDINC/0L7QstC10YDQvdGW0YLRjCDQstGB0ZYg0L/RgNC40LzRltGA0L3QuNC60LguJ1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyDQo9C00LDQu9GP0LXQvCDQutC90LjQs9GDXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdib29rcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnQm9vayBkZWxldGVkIHN1Y2Nlc3NmdWxseTonLCBpZClcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWxldGUgYm9vayBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4geyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfQndC10LLRltC00L7QvNCwINC/0L7QvNC40LvQutCwJ1xuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJ6Iiwic3VwYWJhc2UiLCJCb29rSW5zZXJ0U2NoZW1hIiwib2JqZWN0IiwiY29kZSIsInN0cmluZyIsIm1pbiIsInRpdGxlIiwiYXV0aG9yIiwiY2F0ZWdvcnkiLCJzdWJjYXRlZ29yeSIsIm9wdGlvbmFsIiwiZGVzY3JpcHRpb24iLCJzaG9ydF9kZXNjcmlwdGlvbiIsImlzYm4iLCJwYWdlcyIsIm51bWJlciIsImludCIsImFnZV9yYW5nZSIsImxhbmd1YWdlIiwicHVibGlzaGVyIiwicHVibGljYXRpb25feWVhciIsIm1heCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImNvdmVyX3VybCIsInVybCIsInN0YXR1cyIsImVudW0iLCJxdHlfdG90YWwiLCJwcmljZV91YWgiLCJsb2NhdGlvbiIsInJhdGluZyIsInJhdGluZ19jb3VudCIsImJhZGdlcyIsImFycmF5IiwidGFncyIsImNyZWF0ZUJvb2siLCJmb3JtIiwiaW5wdXQiLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwiaW5zZXJ0IiwicXR5X2F2YWlsYWJsZSIsImF2YWlsYWJsZSIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJzZWxlY3QiLCJFcnJvciIsIm1lc3NhZ2UiLCJsZW5ndGgiLCJjcmVhdGVkQm9vayIsInN1Y2Nlc3MiLCJab2RFcnJvciIsImVycm9ycyIsIm1hcCIsImUiLCJqb2luIiwidXBkYXRlQm9vayIsImlkIiwidHJpbSIsInVwZGF0ZURhdGEiLCJ1bmRlZmluZWQiLCJNYXRoIiwicmVudGFscyIsInJlbnRhbHNFcnJvciIsImVxIiwiaW4iLCJ3YXJuIiwiYWN0aXZlUmVudGFscyIsIkpTT04iLCJzdHJpbmdpZnkiLCJleGlzdGluZ0Jvb2siLCJjaGVja0Vycm9yIiwic2luZ2xlIiwiZXJyb3JNZXNzYWdlIiwidXBkYXRlIiwiZGVsZXRlQm9vayIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/admin/actions.ts\n"));

/***/ })

});